@model StaticPageDto
@{
    ViewData["Title"] = "Gizlilik Politikası";
    ViewData["ActivePage"] = "PrivacyPolicy";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="max-w-7xl mx-auto">
    <h1 class="text-3xl font-semibold text-gray-700 mb-8">Gizlilik Politikası</h1>

    <div class="bg-gray-50 p-8 rounded-lg shadow-md">
        <form asp-action="PrivacyPolicy" method="post" onsubmit="syncQuillContent()">
            <input type="hidden" asp-for="Id" />

            <!-- Sayfa Başlığı -->
            <div class="mb-6">
                <label for="title" class="block text-sm font-medium text-gray-600">Sayfa Başlığı</label>
                <input asp-for="Title" id="title" placeholder="Gizlilik Politikası Başlığı"
                       class="mt-2 block w-full rounded-lg border border-gray-300 shadow-sm px-4 py-2 text-gray-700 bg-white focus:ring-indigo-500 focus:border-indigo-500" />
            </div>

            <!-- HTML İçerik -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-600 mb-2">İçerik (HTML)</label>
                <div id="quillEditor" class="bg-white h-64 rounded-lg border border-gray-300 min-h-[300px]"></div>
                <input type="hidden" asp-for="Content" id="Description" />
            </div>

            <!-- Kaydet Butonu -->
            <div class="flex justify-end">
                <button type="submit"
                        class="px-6 py-2 text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-white">
                    Kaydet
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Quill CSS & JS -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>

<script>
    const quill = new Quill('#quillEditor', {
        theme: 'snow',
        placeholder: 'Gizlilik politikası içeriğini buraya yazın...',
        modules: {
            toolbar: [
                [{ 'font': [] }, { 'size': [] }],
                [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
                ['bold', 'italic', 'underline', 'strike'],
                [{ 'color': [] }, { 'background': [] }],
                [{ 'script': 'sub' }, { 'script': 'super' }],
                [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'indent': '-1' }, { 'indent': '+1' }],
                [{ 'direction': 'rtl' }, { 'align': [] }],
                ['link', 'image', 'video', 'formula'],
                ['clean']
            ]
        }
    });

    function syncQuillContent() {
        const content = document.querySelector('#Description');
        content.value = quill.root.innerHTML;
    }

    // Sayfa yüklenince eski içeriği editöre yükle
    document.addEventListener('DOMContentLoaded', function () {
        const content = document.querySelector('#Description').value;
        quill.root.innerHTML = content;
    });
</script>
