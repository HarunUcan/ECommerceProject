@model dynamic

@{
    var category = Model.Category as ECommerceProject.EntityLayer.Concrete.Category;
    int depth = Model.Depth;
    int subCategoryToggleCounter = category.CategoryId;

    // Katmana göre renk belirleme
    var backgroundColors = new[] { "bg-gray-300", "bg-amber-100", "bg-red-100", "bg-blue-100", "bg-green-100" };
    var backgroundColor = backgroundColors[depth % backgroundColors.Length]; // Derinliğe göre renk seç
}
<li>
    <div class="flex justify-between items-center @backgroundColor p-4 rounded-lg">
        <span class="font-medium text-gray-800">@category.Name</span>
        <div class="space-x-3 flex items-center">
            @if (category.SubCategories?.Any() == true)
            {
                <button onclick="toggleSubcategories(@subCategoryToggleCounter)" class="text-blue-600" title="Alt Kategorileri Gör">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0-3.75-3.75M17.25 21 21 17.25" />
                    </svg> <!-- Alt Kategorileri Gör -->
                </button>
            }
            <a asp-area="Admin" asp-controller="Category" asp-action="Edit" asp-route-id="@category.CategoryId" class="text-yellow-600" title="Düzenle">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 3.487a2.121 2.121 0 113 3l-1.5 1.5-3-3 1.5-1.5zM6.75 14.25l7.5-7.5 3 3-7.5 7.5H6.75v-3z" />
                </svg> <!-- Düzenle -->
            </a>
            <button onclick="confirmDelete(@category.CategoryId)" class="text-red-600" title="Sil">
                <i class="fa-solid fa-trash-can mr-2"></i> <!-- Sil -->
            </button>
        </div>
    </div>

    @if (category.SubCategories?.Any() == true)
    {
        <ul id="subcategories-@subCategoryToggleCounter" class="ml-6 mt-2 hidden space-y-2">
            @foreach (var subCategory in category.SubCategories)
            {
                @await Html.PartialAsync("_RecursiveCategoryList", new { Category = subCategory, Depth = depth + 1 })
            }
        </ul>
    }
</li>



