@model dynamic

@{
    Layout = null;
    var category = Model.Category as ECommerceProject.EntityLayer.Concrete.Category;
    int depth = Model.Depth;
    var textSize = depth == 0 ? "text-lg font-semibold" : depth == 1 ? "text-base font-medium" : "text-sm";
    var paddingClass = depth == 0 ? "" : "pl-4"; // Alt seviyeler için girinti
}

<li class="relative @paddingClass">
    <div class="flex justify-between items-center toggle-submenu cursor-pointer">
        <a asp-area="User" asp-controller="Home" asp-action="Category" asp-route-slug="@category.Slug"
           class="flex items-center space-x-2 text-gray-700 hover:text-black @textSize">
            @if (category.ImageUrl != null)
            {
                <img src="@category.ImageUrl?.Replace("wwwroot", "")" alt="@category.Name"
                     class="w-6 h-6 rounded-md object-cover" />
            }
            <span>@category.Name</span>
        </a>

        @if (category.SubCategories?.Any() == true)
        {
            <i class="fa-solid fa-chevron-right"></i>
        }
    </div>

    @if (category.SubCategories?.Any() == true)
    {
        <ul class="submenu hidden ml-4 mt-2 space-y-2">
            @foreach (var subCategory in category.SubCategories)
            {
                @await Html.PartialAsync("_MobileCategoriesPartial", new { Category = subCategory, Depth = depth + 1 })
            }
        </ul>
    }
</li>
